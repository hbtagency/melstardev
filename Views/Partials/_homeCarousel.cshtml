@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{ 
    var bg_img_url = "";
    var carousel = Umbraco.Content(1264);
    var counter = 1;
}

<!-- Bootstrap #Components Carousel -->
@if (carousel.Children.Any()) { 
<div class="carousel slide" id="myCarousel">
    <!-- carousel indicator -->
    <ol class="carousel-indicators">
        <li class="active" data-slide-to="0" data-target="#myCarousel"></li>
        <li data-slide-to="1" data-target="#myCarousel"></li>
        <li data-slide-to="2" data-target="#myCarousel"></li>
    </ol>

    <!-- Wrapper for slides -->
    <!-- carousel inner -->

    <div class="carousel-inner">
        
        @foreach (var c in carousel.Children)
        {
            if (c.HasValue("carouselItem"))
            {
                var dynamicMediaItem = Umbraco.Media(c.carouselItem);
                bg_img_url = dynamicMediaItem.umbracoFile;
            }
            <div class="item @((counter == 1) ? "active":"")" id='"slide"+ @counter' style="background: url('@bg_img_url') top center no-repeat;background-size:cover;">
                <div class="auto-spin carousel-caption @((umbraco.library.GetPreValueAsString(c.captionPosition) == "Left Bottom") ? "left":"") @((umbraco.library.GetPreValueAsString(c.captionPosition) == "Right Top") ? "right":"") clearfix">
                    <div class="banner-text clearfix">
                        <h1>
                            @c.pageTitle
                        </h1>
                        <a href='@c.Url' class="button button-white">
                            View More
                        </a>
                    </div>
                </div>
            </div>
            counter++;
        }
        <!--
        <div class="item active" id="slide1" style="background: url('@bg_img_url') top center no-repeat;background-size:cover;">
            <div class="carousel-caption left clearfix">
                <div class="banner-text clearfix">
                    <h1>
                        @Umbraco.Field("sloganTitle")
                    </h1>
                    <a href='#' class="button button-white">
                        @Umbraco.Field("bannerButtonTitle")
                    </a>
                </div>
            </div>
        </div>
        <div class="item" id="slide2" style="background: url('@bg_img_url') top center no-repeat;background-size:cover;">
            <div class="carousel-caption right clearfix">
                <div class="banner-text clearfix">
                    <h1>
                        @Umbraco.Field("sloganTitle")
                    </h1>
                    <a href='#' class="button button-white">
                        @Umbraco.Field("bannerButtonTitle")
                    </a>
                </div>

            </div>
        </div>
        <div class="item" id="slide3" style="background: url('@bg_img_url') top center no-repeat;background-size:cover;">
            <div class="carousel-caption clearfix">
                <div class="banner-text left clearfix">
                    <h1>
                        @Umbraco.Field("sloganTitle")
                    </h1>
                    <a href='#' class="button button-white">
                        @Umbraco.Field("bannerButtonTitle")
                    </a>
                </div>

            </div>
        </div>-->
    </div>
    <!-- end of carousel inner -->
    <div class="carousel-control-bottom container clearfix">
        <a class="left carousel-control" data-slide="prev" href="#myCarousel">
            <span class="icon-prev"></span>
        </a>
        <a class="right carousel-control" data-slide="next" href="#myCarousel">
            <span class="icon-next"></span>
        </a>
    </div>
</div>
<!-- End of #Components Carousel -->

<script>
    $(function () {
        //$('.carousel').each(function(){ $(this).carousel({ interval: 3000 }); }); 
        $('#myCarousel').carousel({ interval: 10000 });
    });

</script>
}