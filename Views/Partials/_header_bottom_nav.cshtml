@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{ 
    var banner_img = "";
    if (CurrentPage.HasValue("bannerImage"))
    {
        var banner_img_obj = Umbraco.Media(CurrentPage.bannerImage);
        banner_img = banner_img_obj.Umbracofile;
    }
    else if(CurrentPage.Parent().HasValue("bannerImage") && CurrentPage.Parent().Id != 1049)
    {
        var banner_img_obj = Umbraco.Media(CurrentPage.Parent().bannerImage);
        banner_img = banner_img_obj.Umbracofile;
    }
    else
    {
        banner_img = "/img/banner1.jpg";
    }

    var functionRootNode = Umbraco.Content(1174);
    if (CurrentPage.DocumentTypeAlias == "Ticket") {
        functionRootNode = Umbraco.Content(1209); ;
    }

    if (CurrentPage.Parent.DocumentTypeAlias == "Education")
    {
        functionRootNode = Umbraco.Content(1250);
    }

}
<div class="box-center-container clearfix right-side parallax-banner" style="background:url('@banner_img') no-repeat;background-size:cover;">
    @Html.Partial("_top_nav")
    @Html.Partial("_main_nav")
    <div id="navplacehoder" class="navplacehoder hidden">
    </div>
    <!-- Banner area -->
    <div class="banner_area">
        <div class="mask"></div>
        <div class="banner-heading sit_left clearfix">
            <h1>
                @CurrentPage.pageTitle
            </h1>
            <p>@CurrentPage.subTitle</p>
        </div>

        <!-- Sticky Menu 2 -->
        <div class="sticky_menu_2 visible-lg text-center">
            <div class="container">
                <nav class="navbar inline-block text-center pull-center visible-lg" id="main_nav">
                    <ul class="nav navbar-nav inline-block level-1" id="sticky_nav">
                        @foreach (var childPage in functionRootNode.Children)
                        {
                            if (childPage.DocumentTypeAlias == "Function_page" || childPage.DocumentTypeAlias == "Ticket_subpage" || childPage.DocumentTypeAlias == "Education_subcategory_general_pageitem")
                            {
                            <li class="root nav_margin_right @(childPage.IsAncestorOrSelf(CurrentPage) ? "selected" : null)">
                                <!-- Link tag only if link is present in backend -->
                                <a class="dropdown-toggle menu--link" href="@childPage.Url">
                                    <!-- END IF -->
                                    <span class="menu--link-text current-parent">@childPage.Name</span>
                                    <!-- Control to use: -->
                                    <i class="icon menu--icon"></i>
                                </a>
                            </li>
                            }
                        }

                        <!-- Last element
                        <li class="root">
                            <a class="dropdown-toggle menu--link" href="#">
                                <span class="menu--link-text current-parent">ENQUIRY</span>
                                <i class="icon menu--icon "></i>
                            </a>
                        </li>-->
                    </ul>
                </nav>
            </div>
        </div>
        <!-- End of Sticky Menu 2 -->
    </div>
    <!-- End of Banner -->
</div>
<div class="right-bar box-sidebar pull-right"></div>
    </div>
</header>

<script type="text/javascript" src="/js/final/stickyMenu2.js"></script>
<script type="text/javascript" src="/js/final/banner_mask_height_init.js"></script>
<script type="text/javascript" src="/js/final/function_menu_remove_last_class.js"></script>